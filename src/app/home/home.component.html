<table mat-table [dataSource]="weather$" class="mat-elevation-z8">
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef>Id</th>
    <td mat-cell *matCellDef="let element">{{ element.id }}</td>
  </ng-container>

  <ng-container matColumnDef="day">
    <th mat-header-cell *matHeaderCellDef>Day</th>
    <td mat-cell *matCellDef="let element">{{ element.day }}</td>
  </ng-container>

  <ng-container matColumnDef="temperature">
    <th mat-header-cell *matHeaderCellDef>Temperature</th>
    <td mat-cell *matCellDef="let element">{{ element.temperature }}</td>
  </ng-container>

  <ng-container matColumnDef="pressure">
    <th mat-header-cell *matHeaderCellDef>Pressure</th>
    <td mat-cell *matCellDef="let element">{{ element.pressure }}</td>
  </ng-container>

  <ng-container matColumnDef="humidity">
    <th mat-header-cell *matHeaderCellDef>Humidity</th>
    <td mat-cell *matCellDef="let element">
      <div class="progress-wrapper">
        <mat-progress-bar
          mode="determinate"
          [value]="element.humidity"
          [ngClass]="{
            red: element.humidity > 80,
            green: element.humidity < 40,
            yellow: element.humidity > 40 && element.humidity < 80
          }"
        ></mat-progress-bar>
        {{ element.humidity }}%
      </div>
    </td>
  </ng-container>

  <ng-container matColumnDef="dew_point">
    <th mat-header-cell *matHeaderCellDef>Dew point</th>
    <td mat-cell *matCellDef="let element">{{ element.dew_point }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: displayedColumns"
    (click)="openDialog(row)"
  ></tr>
</table>
